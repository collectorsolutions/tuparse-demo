<!doctype html>
<html>
  <head>
    <title>Tuparse Shakur Demo</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" />
    <style id="parsedStyles"></style>
  </head>
  <body>
    <script src="js/requirejs/require.js"></script>
    <script src="js/config.js"></script>
    <script>
      require([
        "jquery",
        "tuparse-shakur/parser",
        "tuparse-shakur/css",
        "tuparse-shakur/dom",
        "tuparse-demo/structure",
        "tuparse-demo/examples",
        "tuparse-demo/parser"
      ], function ($, parser, css, dom, structure, examples, demoParser) {
        var parsed = parser.parse(structure, {
          css: {
            appendWhenDone: true
          },
          dom: {
            appendWhenDone: true
          }
        });

        // Set up only one example for now.
        parsed.dom.then(function () {
          var example = examples.replicatingButton;

          document.getElementById("rawCode").value = JSON.stringify(example.structure, undefined, 2);
          document.getElementById("moduleMid").value = "demo/handles";
          document.getElementById("moduleDefinition").value = examples.createFunction(example, "demo/handles");

          demoParser.tryParse();
        });
      });
    </script>
  </body>
</html>